<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<TITLE>
Constructor
</TITLE>
</HEAD>
<FONT SIZE="+2"><B>Constructor</B></FONT><BR><BR><HR>
<FONT SIZE="+1"><B>Overview</B></FONT><BR>
<P>

      A constructor describes how to initialise a newly created instance of
      a class. Each class may define a number of constructors that are used
      when an instance of the class is sent an 'init/1' message. The constructor
      is a sequence of attribute names and an optional body. When an instance
      is initialised, the matching constructor is selected from the class.
      A constructor matches the initialisation arguments when it defines the
      same number of attribute names as the length of the initialization 
      arguments. The effect of using the selected constructor is to set
      the slots with the appropriate names in the constructor from the 
      initialization arguments and then to perform the body of the constructor.
      If defined, the body of the constructor must return 'self'. A constructor
      may optionally specify that it is a template for transforming an object
      into a string, it does so by including the optional modifier '!' after
      the sequence of names. If present, the body of the constructor is evaluated
      in a scope where the names of the object slots specified in the name list are
      bound to the supplied values.
    
<BR><HR>
<B>Owner</B>
<A HREF="../../../Root/XOCL/index.html">XOCL</A>
<BR><HR>
<B>Parents</B>
<A HREF="../../../Root/XOCL/Sugar/index.html">Sugar</A>
<BR><HR>
<B>Subclasses</B>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructors</B></FONT></TD>
</TR>
<TR><TD>Constructor(names,toString)</TD><TD>
        The names are a sequence of strings, toString defines whether or not
        the constructor produces a 'toString/0' operation. Other components 
        of a constructor are added using the 'add/1' operation.
      </TD></TR>
<TR><TD>Constructor(names,toString,doc,body)</TD><TD>
        This constructor is used to initialise all components and to define
        the toString operation.
      </TD></TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=3><FONT SIZE="+2">
<B>Attributes</B></FONT></TD>
</TR>
<TR><TD><B>body</B></TD><TD><A HREF="../../../Root/XCore/Performable/index.html">Performable<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>doc</B></TD><TD><A HREF="../../../Root/XCore/Performable/index.html">Performable<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>names</B></TD><TD><A HREF="../../../Root/XCore/String/index.html">Seq(String)<A></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>toString</B></TD><TD><A HREF="../../../Root/XCore/Boolean/index.html">Boolean<A></TD><TD>No Documentation Specified</TD></TR>
<TR>
<TD COLSPAN=3>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../Root/XCore/Performable/index.html">Performable</A>: endLine, line. <BR><B>From</B> <A HREF="../../../Root/XCore/Located/index.html">Located</A>: charEnd, charStart. <BR></FONT>
</TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="2" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Operations</B></FONT></TD>
</TR>
<TR><TD><B>add(element:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
        Elements can be added to a constructor. This allows sub-classes
        of constructor to add new features if required. The basic constructor
        can receive documentation expressions and body expressions.
      </TD></TR>
<TR><TD><B>bodyOp():<A HREF="../../../Root/XCore/Performable/index.html">Performable<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>desugar():<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
        A constructor expressions is sugar for the instantiation of
        the XCore::Constructor class. Note that the documentation
        expression may be null if it has not been initialised. All
        of the constructor names are placed in scope for the constructor
        operation (careful since this will mean that self.NAME <> NAME
        in the constructor body.
      </TD></TR>
<TR><TD><B>namesToString(names:<A HREF="../../../Root/XCore/String/index.html">Seq(String)<A>):<A HREF="../../../Root/XCore/Performable/index.html">Performable<A></B></TD><TD>
	    Produce a sequence of comma separated names as an expression
	    for the 'toString/0' operation produced by including '!' in the
	    constructor definition.
	  </TD></TR>
<TR><TD><B>operations(name:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/OCL/Operation/index.html">Seq(Operation)<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>pprint(out:<A HREF="../../../Root/XCore/Element/index.html">Element<A>,indent:<A HREF="../../../Root/XCore/Element/index.html">Element<A>):<A HREF="../../../Root/XCore/Element/index.html">Element<A></B></TD><TD>
        Write out the text of the constructor definition expression
        to the supplied output channel at the given indent.
      </TD></TR>
<TR><TD><B>toString():<A HREF="../../../Root/XCore/String/index.html">String<A></B></TD><TD>No Documentation Specified</TD></TR>
<TR><TD><B>toStringOperation(name:<A HREF="../../../Root/XCore/String/index.html">String<A>):<A HREF="../../../Root/OCL/Operation/index.html">Seq(Operation)<A></B></TD><TD>
        Produce the 'toString/0' operation def that is added to a
        class definition if the '!' char is included in the
        constructor definition.
      </TD></TR>
<TR>
<TD COLSPAN=2>
<FONT SIZE="-1">
<B>From</B> <A HREF="../../../Root/XOCL/Sugar/index.html">Sugar</A>: FV, compile, desugar, eval, lift, maxLocals, typeExp. <BR><B>From</B> <A HREF="../../../Root/XCore/Performable/index.html">Performable</A>: FV, compile, endLine, eval, line, maxLocals, pprint, pprint, pprint, setEndLine, setLine. <BR><B>From</B> <A HREF="../../../Root/XCore/Object/index.html">Object</A>: addDaemon, addMultiDaemon, addPersistentDaemon, addStructuralFeature, allCompositeValues, allCompositeValuesAndSelf, allDaemonsWithId, allDaemonsWithTarget, compositeValues, daemonNamed, daemonWithId, daemonWithIdAndTarget, daemons, daemonsActive, destroyDaemon, edit, fire, get, getProperties, getProperty, getStructuralFeatureNames, hasDaemonNamed, hasDaemonWithId, hasDaemonWithIdAndTarget, hasDaemonWithTarget, hasProperty, hasSlot, hasStructuralFeature, hotLoad, hotLoaded, init, initSlots, machineInit, removeDaemon, removeDaemonNamed, removeDaemonsWithId, removeDaemonsWithTarget, removeStructuralFeature, renameSlot, set, setDaemons, setDaemonsActive, setHotLoad, setProperty, slotDenied, slotMissing, slotMissing, slots. <BR><B>From</B> <A HREF="../../../Root/XCore/Element/index.html">Element</A>: addTo, allHTMLEntries, allHTMLPackages, checkConstraints, copy, deleteRecursive, die, edit, equals, error, ferror, hashCode, init, init, isKindOf, isReallyKindOf, isTypeOf, lift, noOperationFound, oclIsKindOf, oclIsTypeOf, of, pprint, pprint, pprint, pprintln, print, println, removeDaemon, removeDaemon, save, save2, send, setOf, systemId, toHTML, toSnapshot, toSnapshot, toString, toType, writeHTML, writeHTML, writeHTMLAllEntries, writeHTMLAllPackages, writeHTMLIndex, writeHTMLOverview, writeXML, writeXMLFile, yield. <BR></FONT>
</TD>
</TR>
</TABLE>
<BR><HR><BR>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Grammar</B></FONT></TD>
</TR>
<TD><PRE>
@Grammar extends OCL::OCL.grammar
    
      AttNames ::= name = AttName names = (',' AttName)* { Seq{name | names} } | { Seq{} }.
      
      AttName ::= Name | Str.
    
      Constructor ::= '(' names = AttNames ')' toString = ToString body = Exp* 'end' { Constructor(names,toString).add(body) }.
      
      ToString ::= '!' { true } | { false }.
      
    end
</PRE></TD>
</TABLE>
</HTML>
